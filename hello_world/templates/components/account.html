<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sign Up & Login</title>
</head>
<body>
  <!-- Sign Up Form -->
  <div>
    <h2>Sign Up</h2>
    <form id="signup-form">
      <input type="text" id="signup-username" placeholder="Username" required>
      <input type="password" id="signup-password" placeholder="Password" required>
      <button type="submit">Sign Up</button>
    </form>
    <p id="signup-response"></p>
  </div>

  <!-- Login Form -->
  <div>
    <h2>Login</h2>
    <form id="login-form">
      <input type="text" id="login-username" placeholder="Username" required>
      <input type="password" id="login-password" placeholder="Password" required>
      <button type="submit">Login</button>
    </form>
    <p id="login-response"></p>
  </div>

  <script>
    // Add event listener for the signup form
    document.getElementById('signup-form').addEventListener('submit', function(e) {
      e.preventDefault();
      var username = document.getElementById('signup-username').value;
      var password = document.getElementById('signup-password').value;

      fetch('/api/register/', { // Make sure to replace with your actual API endpoint
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({username: username, password: password}),
      })
      .then(response => response.json())
      .then(data => {
        document.getElementById('signup-response').textContent = data.status + ': ' + (data.token || data.message);
      });
    });

    // Add event listener for the login form
    document.getElementById('login-form').addEventListener('submit', function(e) {
      e.preventDefault();
      var username = document.getElementById('login-username').value;
      var password = document.getElementById('login-password').value;

      fetch('/api/login/', { // Make sure to replace with your actual API endpoint
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({username: username, password: password}),
      })
      .then(response => response.json())
      .then(data => {
        document.getElementById('login-response').textContent = data.status + ': ' + (data.token || data.message);
      });
    });
  </script>
</body>
</html>
